---
import VSection from "../components/VSection.astro";
import VSections from "../components/VSections.astro";
import MainLayout from "../layouts/MainLayout.astro";
import NoJS from "../components/NoJS.astro";
import Experience from "../components/Experience.astro";
import Project from "../components/Project.astro";
import { Icon } from "astro-icon/components";
---

<style is:global>
    @supports selector(::-webkit-scrollbar) {
        html::-webkit-scrollbar {
            width: 10px;
        }
        html::-webkit-scrollbar-thumb {
            background-color: #303f5e;
            border-radius: 5px;
        }
        html::-webkit-scrollbar-track {
            background-color: #0f172a;
        }
    }

    @supports not selector(::-webkit-scrollbar) {
        html {
            scrollbar-color: #303f5e #0f172a;
            scrollbar-width: thin;
        }
    }

    .tech-icon span {
        visibility: hidden;
        opacity: 0;
        position: absolute;
        z-index: 1;
        transition: opacity 0.3s;
    }
    .tech-icon:hover span {
        visibility: visible;
        opacity: 1;
    }

    .fade-in {
        opacity: 1;
        transition: opacity 0.6s ease-out;
    }
    
    .fade-in-hidden {
        opacity: 0 !important;
    }
</style>

<MainLayout title="James Nickoli " seoTitle="James Nickoli" seoDesc="Full Stack Software Developer, Game Dev, and Competitive Programmer">
    <div class="">
        <NoJS>
            <div class="fixed top-0 left-0 w-full bg-gray-900 text-white p-4 text-center z-10 flex flex-row justify-between">
                <a href="#Top">Top</a>
                <a href="#Contact">Contact</a>
                <a href="#Why-Should-You-Hire-Me?">Why Should You Hire Me?</a>
                <a href="#Work-Experience">Work Experience</a>
                <a href="#Programming-Experience">Programming Experience</a>
                <a href="#Projects">Projects</a>
                <a href="#Technologies">Technologies</a>
            </div>
        </NoJS>
        <VSections>
            <VSection title="Top">
                <div class="pt-20">
                    <h1 class="text-5xl md:text-6xl text-center">James Nickoli</h1>
                    <h2>Full Stack Developer</h2>
                </div>
            </VSection>
            <VSection title="Contact">
                <Icon name="github" /><a href="https://github.com/rsninja722">github.com/rsninja722</a>
                <Icon name="linkedin" /><a href="https://www.linkedin.com/in/james-nickoli/">linkedin.com/in/james-nickoli</a>
                <Icon name="email" /><a href="mailto:contact@jamesnicko.li">contact@jamesnicko.li</a>
            </VSections>
            <VSection title="Why Should You Hire Me?">
                <div class="w-full md:w-3/4 lg:w-2/3 xl:w-1/2 aspect-video border-4 border-white-100">
                <!-- <iframe class="" src="https://www.youtube.com/embed/M-M4yqryBi4?si=4mnvjXSJF-ChQoK5" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> -->
                </div>
            </VSection>
            <VSection title="Work Experience">
                <Experience imgLink="/assets/1.png" jobTitle="Full Stack Developer" company="Big Viking Games" date="May 2022 - Aug 2022" technologies={["javascript", "elm"]} bulletPoints={["point 1", "point 2"]} />
            </VSection>
            <VSection title="Programming Experience">
                <Experience imgLink="/assets/1.png" jobTitle="Team Member" company="McMaster Competitive Programming Team" date="Oct 2021 - Aug 2023" technologies={["cpp", "python"]} bulletPoints={["Represented McMaster in the International Collegiate Programming Contest as a member of the junior team in 2021-2022, and placed 3rd in the 2022-2023 tryouts, qualifying as a member of the leading team."]} />
            </VSection>

            <VSection title="Projects">
                <div class="grid grid-cols-1 2xl:grid-cols-2 gap-4">
                    <Project
                        title="Missile Command 3D"
                        description="description"
                        images={[
                            { link: "/assets/1.png", alt: "alt" },
                            { link: "/assets/1.png", alt: "alt" },
                            { link: "/assets/1.png", alt: "alt" }
                        ]}
                        link="https://google.com"
                        technologies={["javascript", "elm"]}
                    />
                    <Project title="Multiplayer Mastermind" description="description" images={[{ link: "/assets/1.png", alt: "alt" }]} link="https://google.com" technologies={["javascript", "elm"]} />
                    <Project title="Webassembly Platformer" description="description" images={[{ link: "/assets/1.png", alt: "alt" }]} link="https://google.com" technologies={["javascript", "elm"]} />
                    <Project title="Esoteric JS Transpiler" description="description" images={[{ link: "/assets/1.png", alt: "alt" }]} link="https://google.com" technologies={["javascript", "elm"]} />
                </div>
            </VSection>
            <VSection title="Technologies">
            </VSection>
        </VSections>
    </div>
</MainLayout>


<script>
// fade in on view logic
document.addEventListener('DOMContentLoaded', () => {
    const fadeIns: NodeListOf<HTMLElement> = document.querySelectorAll('.fade-in');

    // add hiding class with js in case user has js disabled
    fadeIns.forEach(element => {
        element.classList.add('fade-in-hidden');
    });

    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.remove('fade-in-hidden');
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.1 });

    fadeIns.forEach(element => {
        observer.observe(element);
    });

    // Handle elements visible at the start
    fadeIns.forEach(element => {
        const rect = element.getBoundingClientRect();
        if (rect.top >= 0 && rect.bottom <= window.innerHeight) {
            element.classList.remove('fade-in-hidden');
        }
    });
});
</script>